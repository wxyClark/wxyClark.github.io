# 重构类

|中文名|英文名|时机|做法|意义 |
|----|----|----|----|---- |
|AA|AA|1 <br>2 <br> 3 <br>4 |①<br>②<br>③<br>④<br>⑤<br>⑥<br>⑦|AA|
|AA|AA|1 <br>2 <br> 3 <br>4 |①<br>②<br>③<br>④<br>⑤<br>⑥<br>⑦|AA|
| | | | | |
|AA|AA|1 <br>2 <br> 3 <br>4 |①<br>②<br>③<br>④<br>⑤<br>⑥<br>⑦|AA|
|AA|AA|1 <br>2 <br> 3 <br>4 |①<br>②<br>③<br>④<br>⑤<br>⑥<br>⑦|AA|

## 提炼类（Extract Class）

| title | content |
| ---- | ---- |
| 场景 | 某个类做了应该有两个类做的事。 |
| 定义 | 建立一个新类，将相关的字段和函数从旧类搬移到新类。 |
| 意义 | 单一职责 |
| 做法 |  |
| 注意 |  |


## 内联类（Inline  Class）

| title | content |
| ---- | ---- |
| 场景 | 某个类没有做太多事情。 |
| 定义 | 将这个类的所有特性搬移到另一个类中，然后移除原类。 |
| 意义 | 内聚 |
| 做法 |  |
| 注意 |  |

## 处理概括关系

| 名称 | 定义  | 用法 |
| ---- | ---- |---- |
| 字段上移（Pull Up Field） | 两个子类拥有相同的字段。 | 将该字段移至超类。 |
| 函数上移（Pull Up Method） | 有些函数，在各个子类中产生完全相同的结果。 | 将该函数移至超类。 |
| 构造函数本体上移（Pull Up ConstructorBody） | 你在各个子类中拥有一些构造函数，他们的本体几乎完全一致。 | 在超类中新建一个构造函数，并在子类构造函数中调用它。 |
| 函数下移（Push Down Method） | 超类中的某个函数只与部分（而非全部）子类有关。 | 将这个函数移到相关的那些子类去。 |
| 字段下移（Push Down Field） | 超类中的某个字段只被部分（而非全部）子类用到。 | 将这个字段移到需要它的那些子类去。 |
| 提炼子类（ExtractSubclass） | 类中的某些特性只被某些（而非全部）实例用到。 | 新建一个子类，将上面所说的那一部分特性移到子类中。 |
| 提炼超类（Extract Superclass） | 两个类有相似特性。 | 为这两个类建立一个超类，将相同特性移至超类。 |
| 提炼接口（ExtractInterface） | 若干客户使用类接口中的同一子集，或者两个类的接口有部分相同。 | 将相同的子集提炼到一个独立接口中。 |
| 折叠继承体系（Collapse Hierarchy） | 超类和子类之间无太大差别。 | 将它们合为一体。 |
| 塑造模板函数（Form TemPlateMethod） | 你有一些子类，其中相应的某些函数以相同顺序执行类似的操作，但各个操作的细节上所有不同。 | 将这些操作分别放进独立函数中，并保持它们都有相同的签名，于是原函数也就变得相同了。<br>然后将原函数上移至超类。 |
| 以委托取代继承（Replace Inheritance withDelegation） | 某个子类只使用超类接口中的一部分，或是根本不需要继承而来的数据。 | 在子类中新建一个字段用以保存超类；调整子类函数令它改而委托超类；然后去掉两者之间的继承关系。 |
| 以继承取代委托（Replace Delegation withInheritance） | 你在两个类之间使用委托关系，并经常为整个接口编写许多极简单的委托函数。 | 让委托类来继承受托类。
14.大型重构** |