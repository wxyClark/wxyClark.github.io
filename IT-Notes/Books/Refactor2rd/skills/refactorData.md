---
sort: 3
---

# 重新组织数据

```tip
引用和值的混淆经常会造成问题
```

## 拆分变量（Split Variable）

| title | content |
| ---- | ---- |
| 场景 | 同一个变量承担两件不同的事情，会令代码阅读者糊涂。 |
| 意义 | <br> |
| 定义 | <br> |
| 做法 | <br> |
| 注意 | <br> |

## 字段改名（Rename Field）

| title | content |
| ---- | ---- |
| 场景 | <br> |
| 意义 | <br> |
| 定义 | <br> |
| 做法 | <br> |
| 注意 | <br> |

## 以查询取代派生变量（Replace Derived Variable with Query）

| title | content |
| ---- | ---- |
| 场景 | 可变数据是软件中最大的错误源头之一。<br>对数据的修改常常导致代码的各个部分以丑陋的形式互相耦合：在一处修改数据，却在另一处造成难以发现的破坏。 |
| 意义 | <br> |
| 定义 | <br> |
| 做法 | <br> |
| 注意 | <br> |

## 将引用对象改为值对象（Change Reference to Value）

| title | content |
| ---- | ---- |
| 场景 | <br> |
| 定义 | <br> |
| 意义 | 我可以放心地把不可变的数据值传给程序的其他部分，而不必担心对象中包装的数据被偷偷修改。<br> 我可以在程序各处复制值对象，而不必操心维护内存链接。<br> 值对象在分布式系统和并发系统中尤为有用。
| 定义 | <br> |
| 做法 | <br> |
| 注意 | <br> |
