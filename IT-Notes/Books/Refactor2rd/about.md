---
sort: 7
---

# 关于

## 测试

```danger
“花合理时间抓出大多数bug”要好过“穷尽一生抓出所有bug”。

测试愈发成为任何一个软件开发者所必备的技能

一个架构的好坏，很大程度要取决于它的可测试性，这是一个好的行业趋势。

一个值得养成的好习惯是，每当你遇见一个bug，先写一个测试来清楚地复现它。仅当测试通过时，才视为bug修完。

【你应该把测试集中在可能出错的地方。】当测试数量达到一定程度之后，继续增加测试带来的边际效用会递减；如果试图编写太多测试，你也可能因为工作量太大而气馁，最后什么都写不成。


```

* 类应该包含它们自己的测试代码。
* 事实上，撰写测试代码的最好时机是在开始动手编码之前。
* 编写优良的测试程序，可以极大提高我的编程速度，即使不进行重构也一样如此
* 编写测试代码其实就是在问自己：为了添加这个功能，我需要实现些什么？编写测试代码还能帮我把注意力集中于接口而非实现（这永远是一件好事）。
* 之所以能够拥有如此强大的bug侦测能力，不仅仅是因为我的代码能够自测试，也得益于我频繁地运行它们。
* 测试驱动开发的编程方式依赖于下面这个短循环：先编写一个（失败的）测试，编写代码使测试通过，然后进行重构以保证代码整洁。这个“测试、编码、重构”的循环应该在每个
* 到红条时永远不许进行重构”，意思是：测试集合中还有失败的测试时就不应该先去重构。
* 测试应该是一种风险驱动的行为，我测试的目标是希望找出现在或未来可能出现的bug。
* 测试的重点应该是那些我最担心出错的部分，这样就能从测试工作中得到最大利益。
* 写未臻完善的测试并经常运行，好过对完美测试的无尽等待。
> 为既有代码添加测试时最常用的方法：先随便填写一个期望值，再用程序产生的真实值来替换它，然后引入一个错误，最后恢复错误。
* 虑可能出错的边界条件，把测试火力集中在那儿。
> 无论何时，当我拿到一个集合,我总想看看集合为空时会发生什么。
> 如果拿到的是数值类型，0会是不错的边界条件,负值同样值得一试

## 注释

* 每当感觉需要以注释来说明点什么的时候，我们就把需要说明的东西写进一个独立函数中，并以其用途（而非实现手法）命名。
* 好的代码中，注释应该是短小精悍的，应该只是我们需要描述一些非常规做法的说明，或者隐患的说明以及我们某些时候冒出的一些对程序有用但没有做的想法

## 好代码

* 容易理解；
* 所有逻辑都只在唯一地点指定；
* 新的改动不会危及现有行为；
* 尽可能简单表达条件逻辑

## 性能